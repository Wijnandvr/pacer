<!DOCTYPE html>
<html lang="en">
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- <link href='//fonts.googleapis.com/css?family=Montserrat:700,400' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Merriweather:400,400italic,700,700italic' rel='stylesheet' type='text/css'> -->
     <link rel="stylesheet" href="/pacer-doc/css/syntax.css"  type='text/css'>
     <link rel="stylesheet" href="/pacer-doc/css/font-awesome.min.css">
     <link rel="stylesheet" href="/pacer-doc/css/bootstrap.min.css">
     <link rel="stylesheet" href="/pacer-doc/css/modern-business.css">
    <link rel="stylesheet" href="/pacer-doc/css/lavish-bootstrap.css"  type='text/css'>
    <link rel="canonical" href="https://github.com/tomjohnson1492/pacer-doc/quick_start/">
    <link rel="stylesheet" href="/pacer-doc/css/customstyles.css"  type='text/css'>
     <link rel="stylesheet" href="/pacer-doc/css/projectstyles.css"  type='text/css'>
    <link rel="canonical" href="https://github.com/tomjohnson1492/pacer-doc/quick_start/">
  <link rel="alternate" type="application/rss+xml" title="Pacer Docs" href="https://github.com/tomjohnson1492/pacer-doc/feed.xml" />
    <script src="/pacer-doc/js/jquery.min.js"></script>
    <script src="/pacer-doc/js/jquery.cookie.min.js"></script>
    <script src="/pacer-doc/js/jquery.navgoco.min.js"></script>
    <script src="/pacer-doc/js/bootstrap.min.js"></script>
    <script src="/pacer-doc/js/toc.js"></script>
    <script src="/pacer-doc/js/customscripts.js"></script>
    <script src="/pacer-doc/js/projectscripts.js"></script>
       <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <title>Quick Start | Pacer Docs</title>
     <meta name="description" content="A theme based on Jekyll designed for technical writers creating help systems. Feel free to clone, fork, and otherwise use. It's all open source and free to implement.  Please consider contributing back any innovations you make so that others can benefit.
">
 

 

  </head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                  <a class="navbar-brand homeLink fa fa-home" href="/pacer-doc/"><span class="projectHome"> &nbsp;Pacer Docs</span></a>

                 
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">

<!-- entries without drop-downs appear here -->
  
  

  
  <li><a href="https://github.com/pangloss/pacer/" target="_blank">Github Repo</a></li>
  
     
    


<!-- entries with drop-downs appear here -->


<li>
<!-- start search -->
   <div id="search-demo-container">
      <input type="text" id="search-input" placeholder="search...">
      <ul id="results-container"></ul>
    </div>

    
    <script src="/pacer-doc/js/jekyll-search.js" type="text/javascript"></script>
    
    
    <script type="text/javascript">
      SimpleJekyllSearch.init({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('results-container'),
        dataSource: '/pacer-doc/search.json',        
        searchResultTemplate: '<li><a href="{url}" title="Quick Start">{title}</a></li>',
        noResultsText: 'No results found.',
        limit: 10,
        fuzzy: true,
      })
    </script>
    <!-- end search -->
 </li>



        </div>

        <!-- /.container -->
    </nav>


    <!-- Page Content -->
    <div class="container">
    <div class="col-lg-12">&nbsp;</div>





 <!-- Content Row -->
        <div class="row">
            <!-- Sidebar Column -->
            <div class="col-md-3">

<script>
$(document).ready(function() {
    // Initialize navgoco with default options
    $("#mysidebar").navgoco({
        caretHtml: '',
        accordion: true,
        openClass: 'active', // open
        save: true,
        cookie: {
            name: 'navgoco',
            expires: false,
            path: '/'
        },
        slide: {
            duration: 400,
            easing: 'swing'
        }
    });

    $("#collapseAll").click(function(e) {
        e.preventDefault();
        $("#mysidebar").navgoco('toggle', false);
    });

    $("#expandAll").click(function(e) {
        e.preventDefault();
        $("#mysidebar").navgoco('toggle', true);
    });
});

</script>
  
<!-- note that the data file for your project needs to be specified in the code below. Instead of site.data.jekyll, use the data file corresponding to your project (create one if it doesn't already exist). -->

<ul id="mysidebar" class="nav">


  
  
    <li><a href="#">Introduction</a>
    <ul>
    
    
      
      <li><a href="/pacer-doc/intro/">What is Pacer?</a></li>
    
     
    
    
      
      <li><a href="/pacer-doc/install/">Installation</a></li>
    
     
    
    
      
      <li class="active"><a href="/pacer-doc/quick_start/" class="active">Quick Start</a></li>
    
     
    
    
      
      <li><a href="/pacer-doc/suppoted_graph_databases/">Supported Databases</a></li>
    
     
    
    
      
      <li><a href="/pacer-doc/contributing/">Contributing to Pacer</a></li>
    
     
    
    </ul>
    </li>
  
    <li><a href="#">Fundamentals</a>
    <ul>
    
    
      
      <li><a href="/pacer-doc/pacer-extensions/">Extensions</a></li>
    
     
    
    
      
      <li><a href="/pacer-doc/routes/">Routes</a></li>
    
     
    
    </ul>
    </li>
  



</div>




            <!-- Content Column -->
            <div class="col-md-9">

                <div class="post-header">
  <h1 class="post-title-main">Quick Start</h1>
</div>
<div class="post-content">

<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>


<div id="toc"></div>


<p>It is time to see Pacer in action. Let&#39;s open the IRB, and see how it is done. </p>

<h2 id="create-and-populate-a-graph">Create and Populate a Graph</h2>

<p>Let&#39;s create a fairly simple graph data set - Vertices represent airports, 
and edges represent flights offered from one airport to another.</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="nb">require</span> <span class="s1">&#39;pacer&#39;</span>

<span class="c1"># Create an in-memory TinkerGraph</span>
<span class="n">g</span> <span class="o">=</span> <span class="no">Pacer</span><span class="o">.</span><span class="n">tg</span><span class="p">()</span>

<span class="n">g</span><span class="o">.</span><span class="n">transaction</span> <span class="k">do</span> <span class="c1"># optional with TinkerGraph</span>

  <span class="n">lax</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">create_vertex</span><span class="p">({</span><span class="ss">code</span><span class="p">:</span> <span class="s1">&#39;LAX&#39;</span><span class="p">,</span> <span class="ss">city</span><span class="p">:</span> <span class="s1">&#39;Los Angeles&#39;</span><span class="p">})</span>
  <span class="n">lga</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">create_vertex</span><span class="p">({</span><span class="ss">code</span><span class="p">:</span> <span class="s1">&#39;LGA&#39;</span><span class="p">,</span> <span class="ss">city</span><span class="p">:</span> <span class="s1">&#39;New York&#39;</span><span class="p">})</span>
  <span class="n">sfo</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">create_vertex</span><span class="p">({</span><span class="ss">code</span><span class="p">:</span> <span class="s1">&#39;SFO&#39;</span><span class="p">,</span> <span class="ss">city</span><span class="p">:</span> <span class="s1">&#39;San Francisco&#39;</span><span class="p">})</span>
  <span class="n">yyz</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">create_vertex</span><span class="p">({</span><span class="ss">code</span><span class="p">:</span> <span class="s1">&#39;YYZ&#39;</span><span class="p">,</span> <span class="ss">city</span><span class="p">:</span> <span class="s1">&#39;Toronto&#39;</span><span class="p">})</span>

  <span class="n">lga</span><span class="o">.</span><span class="n">add_edges_to</span><span class="p">(</span><span class="ss">:flies_to</span><span class="p">,</span> <span class="n">lax</span><span class="p">,</span> <span class="p">{</span><span class="ss">airline</span><span class="p">:</span> <span class="s1">&#39;Delta&#39;</span><span class="p">})</span>
  <span class="n">lga</span><span class="o">.</span><span class="n">add_edges_to</span><span class="p">(</span><span class="ss">:flies_to</span><span class="p">,</span> <span class="n">yyz</span><span class="p">,</span> <span class="p">{</span><span class="ss">airline</span><span class="p">:</span> <span class="s1">&#39;Air Canada&#39;</span><span class="p">})</span>
  <span class="n">yyz</span><span class="o">.</span><span class="n">add_edges_to</span><span class="p">(</span><span class="ss">:flies_to</span><span class="p">,</span> <span class="n">lga</span><span class="p">,</span> <span class="p">{</span><span class="ss">airline</span><span class="p">:</span> <span class="s1">&#39;Air Canada&#39;</span><span class="p">})</span>
  <span class="n">lax</span><span class="o">.</span><span class="n">add_edges_to</span><span class="p">(</span><span class="ss">:flies_to</span><span class="p">,</span> <span class="n">yyz</span><span class="p">,</span> <span class="p">{</span><span class="ss">airline</span><span class="p">:</span> <span class="s1">&#39;Delta&#39;</span><span class="p">})</span>
  <span class="n">lax</span><span class="o">.</span><span class="n">add_edges_to</span><span class="p">(</span><span class="ss">:flies_to</span><span class="p">,</span> <span class="n">sfo</span><span class="p">,</span> <span class="p">{</span><span class="ss">airline</span><span class="p">:</span> <span class="s1">&#39;WestJet&#39;</span><span class="p">})</span>
  <span class="n">lax</span><span class="o">.</span><span class="n">add_edges_to</span><span class="p">(</span><span class="ss">:flies_to</span><span class="p">,</span> <span class="n">sfo</span><span class="p">,</span> <span class="p">{</span><span class="ss">airline</span><span class="p">:</span> <span class="s1">&#39;American Airlines&#39;</span><span class="p">})</span>

<span class="k">end</span>
</code></pre></div>
<p>Vertices can contain any number of properties (including 0), specified as a hash.<br>
In our case, vertices represent airports, and we created each vertex with two properties, <code>code</code> and <code>city</code>.<br>
For example:</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">lax</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">create_vertex</span><span class="p">({</span><span class="ss">code</span><span class="p">:</span> <span class="s1">&#39;LAX&#39;</span><span class="p">,</span> <span class="ss">city</span><span class="p">:</span> <span class="s1">&#39;Los Angeles&#39;</span><span class="p">})</span>
</code></pre></div>
<p>Edges are directed, and <em>must</em> have a label. 
In addition to that, just like vertices, they can contain an arbitrary hash of properties.<br>
For example, the following line creates an edge from the vertex <code>lga</code> to <code>lax</code>, with the label <code>:flies_to</code>, and a single property <code>airline</code>, whose value is <code>&#39;Delta&#39;</code>.</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">lga</span><span class="o">.</span><span class="n">add_edges_to</span><span class="p">(</span><span class="ss">:flies_to</span><span class="p">,</span> <span class="n">lax</span><span class="p">,</span> <span class="p">{</span><span class="ss">airline</span><span class="p">:</span> <span class="s1">&#39;Delta&#39;</span><span class="p">})</span>
</code></pre></div>
<h2 id="traverse-the-graph">Traverse The Graph</h2>

<p>Get all vertices</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">g</span><span class="o">.</span><span class="n">v</span><span class="p">()</span>
</code></pre></div>
<p>Filter vertices by property (get all vertices whose <code>code</code> is <code>LGA</code>)</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">g</span><span class="o">.</span><span class="n">v</span><span class="p">({</span><span class="ss">code</span><span class="p">:</span> <span class="s1">&#39;LGA&#39;</span><span class="p">})</span>
</code></pre></div>
<p>Access properties</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">g</span><span class="o">.</span><span class="n">v</span><span class="p">({</span><span class="ss">code</span><span class="p">:</span> <span class="s1">&#39;LGA&#39;</span><span class="p">})</span><span class="o">[</span><span class="s1">&#39;city&#39;</span><span class="o">]</span>
</code></pre></div>
<p>Get edges based on vertices.</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Outgoing edges</span>
<span class="n">g</span><span class="o">.</span><span class="n">v</span><span class="p">({</span><span class="ss">code</span><span class="p">:</span> <span class="s1">&#39;LGA&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">out_e</span><span class="p">()</span>
<span class="c1"># Incoming edges</span>
<span class="n">g</span><span class="o">.</span><span class="n">v</span><span class="p">({</span><span class="ss">code</span><span class="p">:</span> <span class="s1">&#39;LGA&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">in_e</span><span class="p">()</span>
<span class="c1"># Both</span>
<span class="n">g</span><span class="o">.</span><span class="n">v</span><span class="p">({</span><span class="ss">code</span><span class="p">:</span> <span class="s1">&#39;LGA&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">both_e</span><span class="p">()</span>
</code></pre></div>
<p><strong>Example:</strong> Get all airlines flying in or out of LaGuardia airport</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">g</span><span class="o">.</span><span class="n">v</span><span class="p">({</span><span class="ss">code</span><span class="p">:</span> <span class="s1">&#39;LGA&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">both_e</span><span class="p">()</span><span class="o">[</span><span class="s1">&#39;airline&#39;</span><span class="o">].</span><span class="n">uniq</span>
</code></pre></div>
<p>If you run the command above on the irb, you should see the output:</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="s2">&quot;Air Canada&quot;</span>        <span class="s2">&quot;American Airlines&quot;</span> <span class="s2">&quot;Delta&quot;</span>            
<span class="ss">Total</span><span class="p">:</span> <span class="mi">3</span>
<span class="c1">#&lt;GraphV -&gt; V-Property(code==&quot;LGA&quot;) -&gt; bothE -&gt; Obj(airline) -&gt; decode -&gt; uniq&gt;</span>
</code></pre></div>
<p>We can also get edges from the graph.</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">g</span><span class="o">.</span><span class="n">e</span><span class="p">()</span>
</code></pre></div>
<p>And filter by property</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">g</span><span class="o">.</span><span class="n">e</span><span class="p">({</span><span class="ss">airline</span><span class="p">:</span> <span class="s1">&#39;Delta&#39;</span><span class="p">})</span>
</code></pre></div>
<p>Get vertices based on edges</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># In an edge from x to y, we call x the _out-vertex_, and y the _in-vertex_.</span>

<span class="c1"># In-vertices</span>
<span class="n">g</span><span class="o">.</span><span class="n">e</span><span class="p">({</span><span class="ss">airline</span><span class="p">:</span> <span class="s1">&#39;Delta&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">in_v</span>
<span class="c1"># Out-vertices</span>
<span class="n">g</span><span class="o">.</span><span class="n">e</span><span class="p">({</span><span class="ss">airline</span><span class="p">:</span> <span class="s1">&#39;Delta&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">out_v</span>
<span class="c1"># Both</span>
<span class="n">g</span><span class="o">.</span><span class="n">e</span><span class="p">({</span><span class="ss">airline</span><span class="p">:</span> <span class="s1">&#39;Delta&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">both_v</span>
</code></pre></div>
<p><strong>Example:</strong> Get all cities that Delta flies from/to.</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">g</span><span class="o">.</span><span class="n">e</span><span class="p">({</span><span class="ss">airline</span><span class="p">:</span> <span class="s1">&#39;Delta&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">both_v</span><span class="o">[</span><span class="s1">&#39;city&#39;</span><span class="o">].</span><span class="n">uniq</span>
</code></pre></div>
<p>If you run the command above on the irb, you should see the output:</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="s2">&quot;Los Angeles&quot;</span> <span class="s2">&quot;Toronto&quot;</span>     <span class="s2">&quot;New York&quot;</span>   
<span class="ss">Total</span><span class="p">:</span> <span class="mi">3</span>
<span class="c1">#&lt;GraphE -&gt; E-Property(airline==&quot;Delta&quot;) -&gt; bothV -&gt; Obj(city) -&gt; decode -&gt; uniq&gt;</span>
</code></pre></div>

</div>








            </div>
        </div>
        <!-- /.row -->

        <hr>

        <!-- Footer -->
        <footer>
            <div class="row">
                <div class="col-lg-12 footer">
                    















































 



                </div>
            </div>
        </footer>

    </div>    <!-- /.container -->



 
</body>




</html>

